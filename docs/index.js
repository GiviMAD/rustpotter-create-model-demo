(()=>{var e={161:function(e){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";(function(t){var n=t.AudioContext||t.webkitAudioContext,r=function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.isRecordingSupported())throw new Error("Recording is not supported in this browser");this.state="inactive",this.config=Object.assign({bufferLength:4096,encoderApplication:2049,encoderFrameSize:20,encoderPath:"encoderWorker.min.js",encoderSampleRate:48e3,maxFramesPerPage:40,mediaTrackConstraints:!0,monitorGain:0,numberOfChannels:1,recordingGain:1,resampleQuality:3,streamPages:!1,wavBitDepth:16,sourceNode:{context:null}},n),this.encodedSamplePosition=0,this.initAudioContext(),this.initialize=this.initWorklet().then((function(){return t.initEncoder()}))};r.isRecordingSupported=function(){var e=t.navigator&&t.navigator.mediaDevices&&t.navigator.mediaDevices.getUserMedia;return n&&e&&t.WebAssembly},r.version="8.0.5",r.prototype.clearStream=function(){this.stream&&(this.stream.getTracks?this.stream.getTracks().forEach((function(e){return e.stop()})):this.stream.stop())},r.prototype.close=function(){return this.monitorGainNode.disconnect(),this.recordingGainNode.disconnect(),this.sourceNode&&this.sourceNode.disconnect(),this.clearStream(),this.encoder&&(this.encoderNode.disconnect(),this.encoder.postMessage({command:"close"})),this.config.sourceNode.context?Promise.resolve():this.audioContext.close()},r.prototype.encodeBuffers=function(e){if("recording"===this.state){for(var t=[],n=0;n<e.numberOfChannels;n++)t[n]=e.getChannelData(n);this.encoder.postMessage({command:"encode",buffers:t})}},r.prototype.initAudioContext=function(){this.audioContext=this.config.sourceNode.context?this.config.sourceNode.context:new n,this.monitorGainNode=this.audioContext.createGain(),this.setMonitorGain(this.config.monitorGain),this.recordingGainNode=this.audioContext.createGain(),this.setRecordingGain(this.config.recordingGain)},r.prototype.initEncoder=function(){var e=this;this.audioContext.audioWorklet?(this.encoderNode=new AudioWorkletNode(this.audioContext,"encoder-worklet",{numberOfOutputs:0}),this.encoder=this.encoderNode.port):(console.log("audioWorklet support not detected. Falling back to scriptProcessor"),this.encodeBuffers=function(){return delete e.encodeBuffers},this.encoderNode=this.audioContext.createScriptProcessor(this.config.bufferLength,this.config.numberOfChannels,this.config.numberOfChannels),this.encoderNode.onaudioprocess=function(t){var n=t.inputBuffer;return e.encodeBuffers(n)},this.encoderNode.connect(this.audioContext.destination),this.encoder=new t.Worker(this.config.encoderPath))},r.prototype.initSourceNode=function(){var e=this;return this.config.sourceNode.context?(this.sourceNode=this.config.sourceNode,Promise.resolve()):t.navigator.mediaDevices.getUserMedia({audio:this.config.mediaTrackConstraints}).then((function(t){e.stream=t,e.sourceNode=e.audioContext.createMediaStreamSource(t)}))},r.prototype.initWorker=function(){var e=this,t=(this.config.streamPages?this.streamPage:this.storePage).bind(this);return this.recordedPages=[],this.totalLength=0,new Promise((function(n){e.encoder.addEventListener("message",(function r(o){var i=o.data;switch(i.message){case"ready":n();break;case"page":e.encodedSamplePosition=i.samplePosition,t(i.page);break;case"done":e.encoder.removeEventListener("message",r),e.finish()}})),e.encoder.start&&e.encoder.start();var r=e.config,o=(r.sourceNode,function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(r,["sourceNode"]));e.encoder.postMessage(Object.assign({command:"init",originalSampleRate:e.audioContext.sampleRate,wavSampleRate:e.audioContext.sampleRate},o))}))},r.prototype.initWorklet=function(){return this.audioContext.audioWorklet?this.audioContext.audioWorklet.addModule(this.config.encoderPath):Promise.resolve()},r.prototype.pause=function(e){var t=this;if("recording"===this.state)return this.state="paused",this.recordingGainNode.disconnect(),e&&this.config.streamPages?new Promise((function(e){t.encoder.addEventListener("message",(function n(r){"flushed"===r.data.message&&(t.encoder.removeEventListener("message",n),t.onpause(),e())})),t.encoder.start&&t.encoder.start(),t.encoder.postMessage({command:"flush"})})):(this.onpause(),Promise.resolve())},r.prototype.resume=function(){"paused"===this.state&&(this.state="recording",this.recordingGainNode.connect(this.encoderNode),this.onresume())},r.prototype.setRecordingGain=function(e){this.config.recordingGain=e,this.recordingGainNode&&this.audioContext&&this.recordingGainNode.gain.setTargetAtTime(e,this.audioContext.currentTime,.01)},r.prototype.setMonitorGain=function(e){this.config.monitorGain=e,this.monitorGainNode&&this.audioContext&&this.monitorGainNode.gain.setTargetAtTime(e,this.audioContext.currentTime,.01)},r.prototype.start=function(){var e=this;return"inactive"===this.state?(this.state="loading",this.encodedSamplePosition=0,this.audioContext.resume().then((function(){return e.initialize})).then((function(){return Promise.all([e.initSourceNode(),e.initWorker()])})).then((function(){e.state="recording",e.encoder.postMessage({command:"getHeaderPages"}),e.sourceNode.connect(e.monitorGainNode),e.sourceNode.connect(e.recordingGainNode),e.monitorGainNode.connect(e.audioContext.destination),e.recordingGainNode.connect(e.encoderNode),e.onstart()})).catch((function(t){throw e.state="inactive",t}))):Promise.resolve()},r.prototype.stop=function(){var e=this;return"paused"===this.state||"recording"===this.state?(this.state="inactive",this.recordingGainNode.connect(this.encoderNode),this.monitorGainNode.disconnect(),this.clearStream(),new Promise((function(t){e.encoder.addEventListener("message",(function n(r){"done"===r.data.message&&(e.encoder.removeEventListener("message",n),t())})),e.encoder.start&&e.encoder.start(),e.encoder.postMessage({command:"done"})}))):Promise.resolve()},r.prototype.storePage=function(e){this.recordedPages.push(e),this.totalLength+=e.length},r.prototype.streamPage=function(e){this.ondataavailable(e)},r.prototype.finish=function(){if(!this.config.streamPages){var e=new Uint8Array(this.totalLength);this.recordedPages.reduce((function(t,n){return e.set(n,t),t+n.length}),0),this.ondataavailable(e)}this.onstop()},r.prototype.ondataavailable=function(){},r.prototype.onpause=function(){},r.prototype.onresume=function(){},r.prototype.onstart=function(){},r.prototype.onstop=function(){},e.exports=r}).call(this,n(1))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n}])},564:(e,t,n)=>{"use strict";let r;n.r(t),n.d(t,{NoiseDetectionMode:()=>S,RustpotterDetection:()=>k,RustpotterJS:()=>N,RustpotterJSBuilder:()=>x,SampleFormat:()=>j,default:()=>L,initSync:()=>C});const o=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});o.decode();let i=new Uint8Array;function s(){return 0===i.byteLength&&(i=new Uint8Array(r.memory.buffer)),i}function a(e,t){return o.decode(s().subarray(e,e+t))}const c=new Array(32).fill(void 0);c.push(void 0,null,!0,!1);let d=c.length,u=0;const l=new TextEncoder("utf-8"),p="function"==typeof l.encodeInto?function(e,t){return l.encodeInto(e,t)}:function(e,t){const n=l.encode(e);return t.set(n),{read:e.length,written:n.length}};function h(e,t,n){if(void 0===n){const n=l.encode(e),r=t(n.length);return s().subarray(r,r+n.length).set(n),u=n.length,r}let r=e.length,o=t(r);const i=s();let a=0;for(;a<r;a++){const t=e.charCodeAt(a);if(t>127)break;i[o+a]=t}if(a!==r){0!==a&&(e=e.slice(a)),o=n(o,r,r=a+3*e.length);const t=s().subarray(o+a,o+r);a+=p(e,t).written}return u=a,o}function f(e){return null==e}function g(e,t){const n=t(1*e.length);return s().set(e,n/1),u=e.length,n}let _=new Int32Array;function m(){return 0===_.byteLength&&(_=new Int32Array(r.memory.buffer)),_}function w(e){const t=function(e){return c[e]}(e);return function(e){e<36||(c[e]=d,d=e)}(e),t}let b=new Uint32Array;let y=new Uint16Array;let v=new Float32Array;const S=Object.freeze({easiest:0,0:"easiest",easy:1,1:"easy",normal:2,2:"normal",hard:3,3:"hard",hardest:4,4:"hardest"}),j=Object.freeze({int:0,0:"int",float:1,1:"float"});class k{static __wrap(e){const t=Object.create(k.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();r.__wbg_rustpotterdetection_free(e)}getName(){try{const n=r.__wbindgen_add_to_stack_pointer(-16);r.rustpotterdetection_getName(n,this.ptr);var e=m()[n/4+0],t=m()[n/4+1];return a(e,t)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(e,t)}}getScore(){return r.rustpotterdetection_getScore(this.ptr)}}class N{static __wrap(e){const t=Object.create(N.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();r.__wbg_rustpotterjs_free(e)}addWakewordModelSamples(e,t,n,o,i,s,a,c,d,l,p,_,b){try{const H=r.__wbindgen_add_to_stack_pointer(-16),J=h(e,r.__wbindgen_malloc,r.__wbindgen_realloc),$=u;var y=f(t)?0:h(t,r.__wbindgen_malloc,r.__wbindgen_realloc),v=u,S=f(n)?0:g(n,r.__wbindgen_malloc),j=u,k=f(o)?0:h(o,r.__wbindgen_malloc,r.__wbindgen_realloc),N=u,x=f(i)?0:g(i,r.__wbindgen_malloc),P=u,A=f(s)?0:h(s,r.__wbindgen_malloc,r.__wbindgen_realloc),C=u,O=f(a)?0:g(a,r.__wbindgen_malloc),L=u,M=f(c)?0:h(c,r.__wbindgen_malloc,r.__wbindgen_realloc),R=u,E=f(d)?0:g(d,r.__wbindgen_malloc),T=u,B=f(l)?0:h(l,r.__wbindgen_malloc,r.__wbindgen_realloc),G=u,U=f(p)?0:g(p,r.__wbindgen_malloc),W=u,F=f(_)?0:h(_,r.__wbindgen_malloc,r.__wbindgen_realloc),I=u,q=f(b)?0:g(b,r.__wbindgen_malloc),z=u;r.rustpotterjs_addWakewordModelSamples(H,this.ptr,J,$,y,v,S,j,k,N,x,P,A,C,O,L,M,R,E,T,B,G,U,W,F,I,q,z);var D=m()[H/4+0];if(m()[H/4+1])throw w(D)}finally{r.__wbindgen_add_to_stack_pointer(16)}}generateWakewordModelBytes(e){try{const d=r.__wbindgen_add_to_stack_pointer(-16),l=h(e,r.__wbindgen_malloc,r.__wbindgen_realloc),p=u;r.rustpotterjs_generateWakewordModelBytes(d,this.ptr,l,p);var t=m()[d/4+0],n=m()[d/4+1],o=m()[d/4+2];if(m()[d/4+3])throw w(o);var i=(a=t,c=n,s().subarray(a/1,a/1+c)).slice();return r.__wbindgen_free(t,1*n),i}finally{r.__wbindgen_add_to_stack_pointer(16)}var a,c}addWakewordModelBytes(e){try{const d=r.__wbindgen_add_to_stack_pointer(-16),l=g(e,r.__wbindgen_malloc),p=u;r.rustpotterjs_addWakewordModelBytes(d,this.ptr,l,p);var t=m()[d/4+0],n=m()[d/4+1],o=m()[d/4+2],i=m()[d/4+3],s=t,c=n;if(i)throw s=0,c=0,w(o);return a(s,c)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(s,c)}}processInt32(e){const t=function(e,t){const n=t(4*e.length);return(0===b.byteLength&&(b=new Uint32Array(r.memory.buffer)),b).set(e,n/4),u=e.length,n}(e,r.__wbindgen_malloc),n=u,o=r.rustpotterjs_processInt32(this.ptr,t,n);return 0===o?void 0:k.__wrap(o)}processInt16(e){const t=function(e,t){const n=t(2*e.length);return(0===y.byteLength&&(y=new Uint16Array(r.memory.buffer)),y).set(e,n/2),u=e.length,n}(e,r.__wbindgen_malloc),n=u,o=r.rustpotterjs_processInt16(this.ptr,t,n);return 0===o?void 0:k.__wrap(o)}processInt8(e){const t=g(e,r.__wbindgen_malloc),n=u,o=r.rustpotterjs_processInt8(this.ptr,t,n);return 0===o?void 0:k.__wrap(o)}processFloat32(e){const t=function(e,t){const n=t(4*e.length);return(0===v.byteLength&&(v=new Float32Array(r.memory.buffer)),v).set(e,n/4),u=e.length,n}(e,r.__wbindgen_malloc),n=u,o=r.rustpotterjs_processFloat32(this.ptr,t,n);return 0===o?void 0:k.__wrap(o)}processBuffer(e){const t=g(e,r.__wbindgen_malloc),n=u,o=r.rustpotterjs_processBuffer(this.ptr,t,n);return 0===o?void 0:k.__wrap(o)}getFrameSize(){return r.rustpotterjs_getFrameSize(this.ptr)>>>0}getByteFrameSize(){return r.rustpotterjs_getByteFrameSize(this.ptr)>>>0}}class x{static __wrap(e){const t=Object.create(x.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();r.__wbg_rustpotterjsbuilder_free(e)}static new(){const e=r.rustpotterjsbuilder_new();return x.__wrap(e)}setThreshold(e){r.rustpotterjsbuilder_setThreshold(this.ptr,e)}setAveragedThreshold(e){r.rustpotterjsbuilder_setAveragedThreshold(this.ptr,e)}setBitsPerSample(e){r.rustpotterjsbuilder_setBitsPerSample(this.ptr,e)}setSampleRate(e){r.rustpotterjsbuilder_setSampleRate(this.ptr,e)}setSampleFormat(e){r.rustpotterjsbuilder_setSampleFormat(this.ptr,e)}setChannels(e){r.rustpotterjsbuilder_setChannels(this.ptr,e)}setComparatorBandSize(e){r.rustpotterjsbuilder_setComparatorBandSize(this.ptr,e)}setComparatorRef(e){r.rustpotterjsbuilder_setComparatorRef(this.ptr,e)}setEagerMode(e){r.rustpotterjsbuilder_setEagerMode(this.ptr,e)}setSingleThread(e){r.rustpotterjsbuilder_setSingleThread(this.ptr,e)}setNoiseSensitivity(e){r.rustpotterjsbuilder_setNoiseSensitivity(this.ptr,e)}setNoiseMode(e){r.rustpotterjsbuilder_setNoiseMode(this.ptr,e)}build(){const e=r.rustpotterjsbuilder_build(this.ptr);return N.__wrap(e)}}function P(){const e={wbg:{}};return e.wbg.__wbindgen_string_new=function(e,t){return function(e){d===c.length&&c.push(c.length+1);const t=d;return d=c[t],c[t]=e,t}(a(e,t))},e.wbg.__wbindgen_throw=function(e,t){throw new Error(a(e,t))},e}function A(e,t){return r=e.exports,O.__wbindgen_wasm_module=t,v=new Float32Array,_=new Int32Array,y=new Uint16Array,b=new Uint32Array,i=new Uint8Array,r}function C(e){const t=P(),n=new WebAssembly.Module(e);return A(new WebAssembly.Instance(n,t),n)}async function O(e){void 0===e&&(e=new URL(n(690),n.b));const t=P();("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e));const{instance:r,module:o}=await async function(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if("application/wasm"==e.headers.get("Content-Type"))throw t;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t)}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}(await e,t);return A(r,o)}const L=O},255:(e,t,n)=>{"use strict";e.exports=n.p+"305c8b75b46b675c815f.js"},690:(e,t,n)=>{"use strict";e.exports=n.p+"60949ac5e48e71a2980f.wasm"}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.b=document.baseURI||self.location.href,(()=>{const{default:e,RustpotterJSBuilder:t}=n(564),r=n(161);(async()=>{const o=new URL(n(255),n.b),i="rustpotter@Builder";let s={recorder:null,records:[],wakewordName:""};window.addEventListener("load",(function(){const e=document.querySelector("#rustpotter_version");e.innerHTML="rustpotter-v1.0.0",e.href="https://github.com/GiviMAD/rustpotter-cli/releases/tag/v1.0.0",u("this is a demo web site for creating rustpotter models using wav samples")}),{once:!0});try{await async function(){if(!r.isRecordingSupported()){const e="Unable to record in this browser :(";throw alert(e),new Error(e)}}(),s.recorder=new r({monitorGain:0,recordingGain:.5,numberOfChannels:1,wavBitDepth:16,encoderPath:o.toString()}),s.recorder.onstreamerror=function(e){l("Error encountered: "+e.message)},s.recorder.ondataavailable=function(e){c(new Blob([e],{type:"audio/wav"}),(new Date).toISOString()+".wav").catch(p)},document.querySelector("#wakeword_name").addEventListener("input",(function(e){s.wakewordName=e.target.value,a()})),document.querySelector("#record").addEventListener("click",(function(e){u("loading recorder..."),s.recorder.start().then((()=>{u("recording...")})).catch((function(e){p(e),d("record"),d("upload"),d("stop",!1)})),d("record",!1),d("upload",!1),d("stop")})),document.querySelector("#stop").addEventListener("click",(function(e){d("stop",!1),s.recorder.stop(),u("record finished")})),document.querySelector("#build").addEventListener("click",(async function(){u("loading rustpotter...");const r=new URL(n(690),n.b);try{await e(r);const n=t.new().build(),o=s.records.reduce(((e,t)=>(e.push(t.name,new Uint8Array(t.data)),e)),[]),i=s.wakewordName;u("generating wakeword model..."),n.addWakewordModelSamples(i,...o);const a=n.generateWakewordModelBytes(i);u("unloading rustpotter..."),n.free();const c=i.replaceAll(" ","_")+".rpw";u("downloading wakeword model '"+c+"'...");const d=new Blob([a.buffer],{type:"application/octet-stream"}),l=URL.createObjectURL(d),p=document.createElement("a");p.href=l,p.download=c,document.body.appendChild(p),p.style="display: none",p.click(),p.remove(),u("done"),setTimeout((()=>URL.revokeObjectURL(l)),1e4)}catch(e){p(e)}}));const i=document.querySelector("#hidden_upload");i.addEventListener("change",(function(e){Array.from(e.target.files).slice(0,6-s.records.length).forEach((e=>{const t=new FileReader;t.onload=function(){const t=this.result;c(new Blob([t],{type:"audio/x-wav"}),e.name).catch(p)},t.onerror=function(){l("Unable to read wakeword file."),enableButtons(!1)},t.readAsArrayBuffer(e)}))})),document.querySelector("#upload").addEventListener("click",(()=>i.click())),d("record"),d("upload")}catch(e){return l(e.message??e)}function a(){const e=s.records.length<6;d("record",e),d("upload",e),d("build",s.wakewordName.length>0&&s.records.length>0)}async function c(e,t){const n=URL.createObjectURL(e),r={name:t,data:await e.arrayBuffer()};s.records.push(r);const o=document.createElement("audio");o.controls=!0,o.src=n;const i=document.createElement("li"),c=document.createElement("a");c.href=n,c.download=t,c.innerHTML='<img class="img_icon" src="download-icon.svg" alt="download" />';const d=document.createElement("i");d.innerHTML='<img class="img_icon" src="remove-icon.svg" alt="remove" />',d.onclick=()=>{s.records.splice(s.records.indexOf(r),1),i.remove(),URL.revokeObjectURL(n),a()},i.appendChild(o),i.appendChild(c),i.appendChild(d),document.querySelector("#records").appendChild(i),a()}function d(e,t=!0){document.querySelector("#"+e).disabled=!t}function u(e){console.log(e);const t=document.querySelector("#terminal");t.innerHTML+='<span style="color: grey">'+i+'</span> % <span class="ok">'+e+"</span><br>",t.parentElement.scrollTop=t.parentElement.scrollHeight}function l(e){console.error(e);const t=document.querySelector("#terminal");t.innerHTML+='<span style="color: grey">'+i+'</span> % <span class="error">'+e+"</span><br>",t.parentElement.scrollTop=t.parentElement.scrollHeight}function p(e){l(e.message?"unexpected error:"+e.message:e)}})()})()})();